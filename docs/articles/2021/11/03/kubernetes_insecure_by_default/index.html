
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Insecure by Default - Kubernetes Networking | Alcide | hidetatz.io</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="author" content="Hidetatz Yaginuma">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">

  <style>
    body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }
  </style>

  <link href="/markdown.css" rel="stylesheet"></link>
  <link href="/syntax.css" rel="stylesheet"></link>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
</head>


<body class="markdown-body">
<p><a href="/">&lt;- home</a></p>

<h1>
  <a name="insecure-by-default-kubernetes-networking-alcide" class="anchor" href="#insecure-by-default-kubernetes-networking-alcide" rel="nofollow" aria-hidden="true">
    <span class="octicon octicon-link">
    </span>
  </a>Insecure by Default - Kubernetes Networking | Alcide</h1>

<h4>
  <a name="2021-11-03" class="anchor" href="#2021-11-03" rel="nofollow" aria-hidden="true">
    <span class="octicon octicon-link">
    </span>
  </a>2021/11/03</h4>

<h3>
  <a name="" class="anchor" href="#" rel="nofollow" aria-hidden="true">
    <span class="octicon octicon-link">
    </span>
  </a><a href="https://www.alcide.io/insecure-by-default-kubernetes-networking/">https://www.alcide.io/insecure-by-default-kubernetes-networking/</a></h3>

<ul>
<li>Kubernetes pods by default have CAP_NET_RAW capability. It means they can open sockets and inject malcious packets into the Kubernetes network.

<ul>
<li>The typical threat scenario here is that an attacker has managed to take over one pod (e.g. via an application vulnerability) and wants to move laterally in the cluster to other pods.</li>
<li>Alternatively, the attacker may want to remain on the same pod but escalate their privileges to cluster-wide permissions via attacks directly against the host.</li>
</ul></li>
<li>Mitigation:

<ul>
<li>Drop CAP_NET_RAW. Use Kubernetes admission controller or OPA GateKeeper to prevent deploying pods with CAP_NET_RAW by developers.</li>
<li>Monitor and restrict traffic between pods by CNI or microservice firewalls.</li>
</ul></li>
</ul>

<p><a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-via="hidetatz" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<hr />

<div style="text-align: center;">
  <a href="/">home</a>
</div>


<hr>

<footer>
<p style="text-align:center">Â© 2017-2021 Hidetatz Yaginuma</p>
</footer>
<script src="/syntax.js"></script>
<script>hljs.highlightAll();</script>
</body>

</html>
